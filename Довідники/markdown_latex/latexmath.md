# LaTeX/Mathematics

Оригінал тексту - https://en.wikibooks.org/wiki/LaTeX/Mathematics

Корисні утиліти:

- Редактор формул - [MathLex - LaTeX math translator and equation builder](http://mathlex.org/latex) 
- Детектор літер з переведення в латекс http://detexify.kirelabs.org/

## Математичні середовища

LaTeX повинен знати, коли текст є математичним. Це тому, що LaTeX набирає математичні позначення інакше, ніж звичайний текст. Тому для цього були оголошені спеціальні середовища. Залежно від того, як вони представлені, їх можна розділити на дві категорії:

- *text* — текстові формули відображаються в рядку, тобто всередині тексту, де він оголошений, наприклад, я можу сказати, що  ![{\displaystyle a+a=2a}](https://wikimedia.org/api/rest_v1/media/math/render/svg/9154e7e4e1d328b3d242ce6f6a8c5af15fa48804) в межах цього речення.
- *displayed* — відображені формули знаходяться на рядку самі по собі.

Оскільки математика вимагає спеціальних середовищ, звичайно існують відповідні назви середовища, які ви можете використовувати стандартним способом. Однак, на відміну від більшості інших середовищ, є кілька зручних скорочень для оголошення ваших формул. У наступній таблиці їх підсумовано:

| Тип              | включені в середину тексту формули | відображені формули | Displayed and automatically numbered equations               |
| ---------------- | ---------------------------------- | ------------------- | ------------------------------------------------------------ |
| Середовище       | `math`                             | `displaymath`       | `equation`                                                   |
| LaTeX скорочення | `\(...\)`                          | `\[...\]`           |                                                              |
| TeX скорочення   | `$...$`                            | `$$...$$`           |                                                              |
| Comment          |                                    |                     | `equation*` (starred version) придушує нумерацію, але вимагає amsmath |

**Пропозиція**: слід уникати використання `$$...$$`, оскільки це може спричинити проблеми, особливо з макросами AMS-LaTeX. Крім того, якщо виникне проблема, повідомлення про помилки можуть бути не корисними.

Середовища `equation*` і `displaymath` функціонально еквівалентні.

Якщо ви вводите текст нормально, кажуть, що ви перебуваєте в *текстовому режимі*, але під час введення в одному з цих математичних середовищ ви перебуваєте в *математичному режимі*, який має деякі відмінності в порівнянні з *текстом режим*:

1. Більшість пробілів і розривів рядків не мають жодного значення, оскільки всі пробіли або випливають логічно з математичних виразів, або їх потрібно вказати спеціальними командами, такими як `\quad`
2. Порожні рядки не допускаються. Лише один абзац на формулу.
3. Кожна літера вважається іменем змінної і буде набрана як така. Якщо ви хочете набрати звичайний текст у формулі (звичайний вертикальний шрифт із звичайним інтервалом), вам потрібно ввести текст за допомогою спеціальних команд, які наведені ниже в розділі (Добавлення тексту в формули)

### Вставлення "Відображуваних" математичних даних у блоки тексту

Для того, щоб деякі оператори, такі як `\lim` або `\sum`, відображалися правильно в деяких математичних середовищах (читай `$......$`), може бути зручно написати `\displaystyle ` клас всередині середовища. Це може призвести до того, що лінія буде вищою, але призведе до правильного відображення експонент та індексів для деяких математичних операторів. Наприклад, `$\sum$` надрукує менший Σ, а `$\displaystyle \sum$` надрукує більший ![\displaystyle \sum ](https://wikimedia.org/api/rest_v1/media/math/render/svg/5c01b9c30dc2f36752fd3e40c08106abcd521e14), як у рівняннях (це працює лише з пакетом AMSMATH). Цю поведінку можна примусити для всіх математичних середовищ, оголосивши `\everymath{\displaystyle}` на самому початку (тобто перед `\begin{document}`).

## Символи

У математики багато символів! Нижче наведено набір символів, доступ до яких можна отримати безпосередньо з клавіатури:

```
+ - = ! / ( ) [ ] < > | ' : *
```

Крім перерахованих вище, для відображення потрібних символів мають бути видані окремі команди. Існує багато прикладів, таких як грецькі літери, символи множин і відносин, стрілки, двійкові оператори тощо.

Наприклад:

```
\forall x \in X, \quad \exists y \leq \epsilon
```

виведе
$$
\forall x \in X, \quad \exists y \leq \epsilon
$$
На щастя, є інструмент, який може значно спростити пошук команди для певного символу - [Detexify](http://detexify.kirelabs.org/classify.html) . Можна також переглянути [Повний список символів LaTeX](https://mathvault.ca/wp-content/uploads/Comprehensive-List-of-Mathematical-Symbols.pdf).

## Грецькі літери

Грецькі літери зазвичай використовуються в математиці, і їх дуже легко вводити в *математичному режимі*. Вам просто потрібно ввести назву літери після зворотної косої риски: якщо перша літера мала, ви отримаєте грецьку літеру, якщо перша літера велика (і тільки перша), то ви отримаєте велику літеру. . Зауважте, що деякі великі грецькі літери виглядають як латинські, тому вони не надаються LaTeX (наприклад, великі *Alpha* і *Beta* - це лише "A" і "B" відповідно). Епсилон, тета, каппа, фі, пі, ро та сигма у нижньому регістрі надаються у двох різних версіях. Альтернативна, або *var*iant, версія створюється шляхом додавання "var" перед назвою літери:

```
\alpha, \Alpha, \beta, \Beta, \gamma, \Gamma, \pi, \Pi, \phi, \varphi, \mu, \Phi
```

матиме вигляд
$$
\alpha, \Alpha, \beta, \Beta, \gamma, \Gamma, \pi, \Pi, \phi, \varphi, \mu, \Phi
$$
Нижче наведений повний перелік грецких символів

## Оператори

Оператор — це функція, яка записується у вигляді слова: напр. тригонометричні функції (sin, cos, tan), логарифми та показники (log, exp), межі (lim), а також слід і визначник (tr, det). LaTeX має багато з них, визначених як команди:

```
\cos (2\theta) = \cos^2 \theta - \sin^2 \theta
```

виглядітиме:
$$
\cos (2\theta) = \cos^2 \theta - \sin^2 \theta
$$
Для деяких операторів, таких як [limits](https://en.wikipedia.org/wiki/Limit_(mathematics)), індекс розміщується під оператором:

```
\lim\limits_{x \to \infty} \exp(-x) = 0
```

$$
\lim\limits_{x \to \infty} \exp(-x) = 0
$$

Для модульного оператора є дві команди: `\bmod` і `\pmod`:

`a \bmod b` -> $a \bmod b$

`x \equiv a \pmod{b}` -> $x \equiv a \pmod{b}$

Щоб використовувати попередньо не означені оператори, наприклад [argmax](https://en.wikipedia.org/wiki/argmax), див. [користувацькі оператори](https://en.wikibooks.org/wiki/LaTeX /Advanced_Mathematics#Custom_operators)

## Піднесення до степеню і індекси

Піднесення до степеню та індекси еквівалентні верхнім і нижнім індексам у звичайному текстовому режимі. Символ каретки (`^`; [також відомий як циркумфлексний акцент](https://en.wikipedia.org/wiki/Caret)) використовується для підняття чогось, а символ підкреслення (`_`) для опускання. Якщо вираз, що містить більше одного символу, підвищується або опускається, його слід згрупувати за допомогою фігурних дужок (`{` та `}`).

`k_{n+1} = n^2 + k_n^2 - k_{n-1}` -> $k_{n+1} = n^2 + k_n^2 - k_{n-1}$

Для степенів з більш ніж однією цифрою, оточіть ступінь `{}`.

`n^{22}` -> $n^{22}$

Підкреслення (`_`) можна використовувати з вертикальною смугою (`|`) для позначення оцінки з використанням нижнього індексу в математиці:

`f(n) = n^5 + 4n^2 + 2 |_{n=17}` -> $f(n) = n^5 + 4n^2 + 2 |_{n=17}$

## Дроби та біноми

Дріб створюється за допомогою команди `\frac{numerator}{denominator}` (для тих, кому потрібно оновити спогади, це *зверху* і *знизу* відповідно!). Аналогічно, [біноміальний коефіцієнт](https://en.wikipedia.org/wiki/Binomial_coefficient) (він же функція Choose) можна записати за допомогою команди `\binom`[[3\]](https:// en.wikibooks.org/wiki/LaTeX/Mathematics#cite_note-amsmath-3):

`\frac{n!}{k!(n-k)!} = \binom{n}{k}` -> $\frac{n!}{k!(n-k)!} = \binom{n}{k}$

Ви можете вставляти дроби в дроби:

`\frac{\frac{1}{x}+\frac{1}{y}}{y-z}` -> $\frac{\frac{1}{x}+\frac{1}{y}}{y-z}$

Зауважте, що при появі всередині іншого дробу або у вбудованому тексті $\tfrac {a}{b}$ дріб помітно менший, ніж у відображеній математиці. Команди `\tfrac` і `\dfrac`[[3\]](https://en.wikibooks.org/wiki/LaTeX/Mathematics#cite_note-amsmath-3) змушують використовувати відповідні стилі, `\ textstyle` та `\displaystyle`. Аналогічно, команди `\tbinom` і `\dbinom` встановлюють біноміальний коефіцієнт.

Для відносно простих дробів, особливо в тексті, може бути більш естетично використовувати [powers and indices](https://en.wikibooks.org/wiki/LaTeX/Mathematics#Powers_and_indices) замість цього:

`^3/_7` -> $^3/_7$

Якщо це виглядає трохи «вільним» (тобто, перевищено), можна визначити жорстку версію, вставивши деякий негативний пробіл

```
%running fraction with slash - requires math mode.
\newcommand*\rfrac[2]{{}^{#1}\!/_{#2}}

\rfrac{3}{7}
```

If you use them throughout the document, usage of xfrac package is recommended. This package provides `\sfrac` command to create slanted fractions. Usage:

```
Take $\sfrac{1}{2}$ cup of sugar, \dots
  3\times\sfrac{1}{2}=1\sfrac{1}{2}
Take ${}^1/_2$ cup of sugar, \dots
  3\times{}^1/_2=1{}^1/_2
```

Якщо в якості експоненти використовуються дроби, навколо команди `\sfrac` необхідно використовувати фігурні дужки:

```
 $x^\frac{1}{2}$ % no error
 $x^\sfrac{1}{2}$ % error
 $x^{\sfrac{1}{2}}$ % no error
```

`$x^\frac{1}{2}$ % no error`  -> $x^\frac{1}{2}$ 

У деяких випадках використання окремого пакета призведе до помилок щодо недоступності певних форм шрифту. У цьому випадку також потрібно додати пакети lmodern і fix-cm.

Крім того, пакет nicefrac містить команду `\nicefrac`, використання якої подібне до `\sfrac`.

### Безперервні дроби

Безперервні дроби слід записувати за допомогою команди `\cfrac`[[3\]](https://en.wikibooks.org/wiki/LaTeX/Mathematics#cite_note-amsmath-3):

```
\begin{equation}
  x = a_0 + \cfrac{1}{a_1 
          + \cfrac{1}{a_2 
          + \cfrac{1}{a_3 + \cfrac{1}{a_4} } } }
\end{equation}
```

$$
\begin{equation}
  x = a_0 + \cfrac{1}{a_1 
          + \cfrac{1}{a_2 
          + \cfrac{1}{a_3 + \cfrac{1}{a_4} } } }
\end{equation}
$$

### Множення двох чисел

Щоб зробити множення візуально схожим на дріб, можна використовувати вкладений масив. Наприклад, множення чисел, записаних одне під одним, можна набрати так:

```
\begin{equation}
\frac{
    \begin{array}[b]{r}
      \left( x_1 x_2 \right)\\
      \times \left( x'_1 x'_2 \right)
    \end{array}
  }{
    \left( y_1y_2y_3y_4 \right)
  }
\end{equation}
```

$$
\begin{equation}
\frac{
    \begin{array}[b]{r}
      \left( x_1 x_2 \right)\\
      \times \left( x'_1 x'_2 \right)
    \end{array}
  }{
    \left( y_1y_2y_3y_4 \right)
  }
\end{equation}
$$

## Корені

Команда `\sqrt` створює квадратний корінь навколо виразу. Він приймає необов’язковий аргумент, зазначений у квадратних дужках (`[` і `]`), щоб змінити величину:

```
\sqrt{\frac{a}{b}}
```

$$
\sqrt{\frac{a}{b}}
$$

```
\sqrt[n]{1+x+x^2+x^3+\dots+x^n}
```

$$
\sqrt[n]{1+x+x^2+x^3+\dots+x^n}
$$

 Цей метод, можливо, робить більш зрозумілим, що входить до сфери дії кореневого знака. Ця звичка зазвичай не використовується під час письма за допомогою комп’ютера, але якщо ви все одно хочете змінити виведення квадратного кореня, LaTeX дає вам таку можливість. Просто додайте наступний код у преамбулу вашого документа:

```
% New definition of square root:
% it renames \sqrt as \oldsqrt
\let\oldsqrt\sqrt
% it defines the new \sqrt in terms of the old one
\def\sqrt{\mathpalette\DHLhksqrt}
\def\DHLhksqrt#1#2{%
\setbox0=\hbox{$#1\oldsqrt{#2\,}$}\dimen0=\ht0
\advance\dimen0-0.2\ht0
\setbox2=\hbox{\vrule height\ht0 depth -\dimen0}%
{\box0\lower0.4pt\box2}}
```

![image-20220628203942530](media/image-20220628203942530.png)

Новий стиль – ліворуч, старий – праворуч

Цей код TeX спочатку перейменовує команду `\sqrt` на `\oldsqrt`, потім переозначує `\sqrt` у термінах старого, додаючи щось більше. Новий квадратний корінь можна побачити на рис. зліва, порівняно зі старим праворуч. На жаль, цей код не працюватиме, якщо ви хочете використовувати кілька коренів: якщо ви спробуєте написати ![{\sqrt[{b}]{a}}](https://wikimedia.org/api/rest_v1/media/math/render/svg/3ceeccbbf1609652afdb8d84d33552cd2731bb0d) як `\sqrt[b]{a}` після використання коду вище, ви просто отримаєте неправильний результат. Іншими словами, ви можете переозначити квадратний корінь таким чином, лише якщо ви не збираєтеся використовувати кілька коренів у всьому документі.

Альтернативний фрагмент коду TeX, який допускає декілька коренів

```
\usepackage{letltxmacro}
\makeatletter
\let\oldr@@t\r@@t
\def\r@@t#1#2{%
\setbox0=\hbox{$\oldr@@t#1{#2\,}$}\dimen0=\ht0
\advance\dimen0-0.2\ht0
\setbox2=\hbox{\vrule height\ht0 depth -\dimen0}%
{\box0\lower0.4pt\box2}}
\LetLtxMacro{\oldsqrt}{\sqrt}
\renewcommand*{\sqrt}[2][\ ]{\oldsqrt[#1]{#2} }
\makeatother


$\sqrt[a]{b} \quad \oldsqrt[a]{b}$
```

Однак для цього потрібен пакет `\usepackage{letltxmacro}`.

## Суми та інтеграли

Команди `\sum` та `\int` вставляють символи суми та інтеграла відповідно, з обмеженнями, які вказуються за допомогою вставки (`^`) та символу підкреслення (`_`). Типове позначення сум:

```
\sum_{i=1}^{10} t_i
```

$$
\sum_{i=1}^{10} t_i
$$

або

```
\displaystyle\sum_{i=1}^{10} t_i
```

$$
\displaystyle\sum_{i=1}^{10} t_i
$$

Межі для інтегралів мають ті самі позначення. Також важливо представити змінні інтегрування за допомогою прямого `d`, який у математичному режимі отримується за допомогою команди `\mathrm{}`, і з невеликим пробілом, що відокремлює його від інтегрального виразу, який досягається за допомогою команди `\` .

```
\int_0^\infty \mathrm{e}^{-x}\,\mathrm{d}x
```

$$
\int_0^\infty \mathrm{e}^{-x}\,\mathrm{d}x
$$

Існує багато інших «великих» команд, які працюють подібним чином:

`\sum` -> $\sum$

`\prod` -> $\prod$

`\coprod` -> $\coprod$

`\bigoplus` -> $\bigoplus$

`\bigotimes` -> $\bigotimes$

`\bigcup` -> $\bigcup$

`\bigcap` -> $\bigcap$

`\bigvee` -> $\bigvee$

`\bigwedge` -> $\bigwedge$

`\bigsqcup` -> $\bigsqcup$

`\int` -> $\int$

`\iint` -> $\iint$

`\iiint` -> $\iiint$

`\iiiint` -> $\iiiint$

`\idotsint` -> $\idotsint$

`\oint` -> $\oint$

`\bigodot` -> $\bigodot$

`\biguplus` -> $\biguplus$

Щоб отримати більш цілісні символи, у тому числі ті, які не включені за замовчуванням у шрифт Computer Modern, спробуйте пакет esint.

Команда `\substack`[[3\]](https://en.wikibooks.org/wiki/LaTeX/Mathematics#cite_note-amsmath-3) дозволяє використовувати `\\` для запису обмежень у декілька рядків :

```
\sum_{\substack{
   0<i<m \\
   0<j<n
  }} 
 P(i,j)
```

$$
\sum_{\substack{
   0<i<m \\
   0<j<n
  }} 
 P(i,j)
$$

Якщо ви хочете, щоб межі інтеграла вказувалися над і під символом (наприклад, сума), використовуйте команду `\limits`:

```
\int\limits_a^b
```

$$
\int\limits_a^b
$$

Однак, якщо ви хочете, щоб це застосовувалося до всіх інтегралів, краще вказати параметр intlimits під час завантаження пакета amsmath:

```
\usepackage[intlimits]{amsmath}
```

Індекси та верхні індекси в інших контекстах, а також інші параметри пакета amsmath, пов’язані з ними, описані в розділі Advanced Mathematics.

Для більших інтегралів можна використовувати персональні декларації або пакет bigints [4].

## Круглі та квадратні дужки і роздільники 

Як використовувати дужки в багаторядкових рівняннях описано в розділі Advanced Mathematics.

Використання роздільників, таких як дужки, незабаром стає важливим, коли маєш справу з будь-чим, крім найтривіальних рівнянь. Без них формули можуть стати неоднозначними. Крім того, спеціальні типи математичних структур, такі як матриці, зазвичай покладаються на роздільники, щоб охопити їх.

Для використання в LaTeX доступні різноманітні роздільники:

```
( a ), [ b ], \{ c \}, | d |, \| e \|,
\langle f \rangle, \lfloor g \rfloor,
\lceil h \rceil, \ulcorner i \urcorner,
/ j \backslash
```

$$
( a ), [ b ], \{ c \}, | d |, \| e \|,
\langle f \rangle, \lfloor g \rfloor,
\lceil h \rceil, \ulcorner i \urcorner,
/ j \backslash
$$

де `\lbrack` та `\rbrack` можуть використовуватися замість `[` та `]`.

### Автоматичний розмір

Дуже часто математичні характеристики відрізняються за розміром, і в цьому випадку роздільники, що оточують вираз, повинні змінюватися відповідно. Це можна зробити автоматично за допомогою команд `\left`, `\right` та `\middle`. Будь-який з попередніх роздільників можна використовувати в поєднанні з ними:

```
\left(\frac{x^2}{y^3}\right)
```

$$
\left(\frac{x^2}{y^3}\right)
$$

```
P\left(A=2\middle|\frac{A^2}{B}>4\right)
```

$$
P\left(A=2\middle|\frac{A^2}{B}>4\right)
$$

Фігурні дужки означуються по-різному за допомогою `\left\{` і `\right\}`,

```
\left\{\frac{x^2}{y^3}\right\}
```

$$
\left\{\frac{x^2}{y^3}\right\}
$$

Якщо потрібний роздільник лише на одній стороні виразу, то невидимий роздільник з іншого боку може бути позначений крапкою (`.`).

```
\left.\frac{x^3}{3}\right|_0^1
```

$$
\left.\frac{x^3}{3}\right|_0^1
$$

### Задання розмірів вручну


У певних випадках розмір, створений командами `\left` та `\right`, може бути не бажаним, або ви можете просто захотіти краще контролювати розміри роздільників. У цьому випадку можна використовувати команди модифікаторів `\big`, `\Big`, `\bigg` та`\Bigg`:

```
( \big( \Big( \bigg( \Bigg(
```

$$
( \big( \Big( \bigg( \Bigg(
$$

Ці команди в першу чергу корисні при роботі з вкладеними роздільниками. Наприклад, при наборі

```
\frac{\mathrm d}{\mathrm d x} \left( k g(x) \right)
```

$$
\frac{\mathrm d}{\mathrm d x} \left( k g(x) \right)
$$

ми помічаємо, що команди `\left` та `\right` створюють такі ж роздільники розміру, що й ті, що вкладені в них. Це може бути важко читати. Щоб це виправити, ми пишемо

```
\frac{\mathrm d}{\mathrm d x} \big( k g(x) \big)
```

$$
\frac{\mathrm d}{\mathrm d x} \big( k g(x) \big)
$$

Задання розміру вручну також може бути корисним, коли рівняння занадто велике, завершується в кінці сторінки та має бути розділене на два рядки за допомогою команди вирівнювання. Хоча команди  `\left.`  і  `\right.` можна використовувати для балансування роздільників у кожному рядку, це може призвести до неправильних розмірів роздільників. Крім того, ручне налаштування розміру можна використовувати, щоб уникнути надмірно великих роздільників — якщо між роздільниками з’являється `\underbrace`  або подібна команда.

## Матриці та масиви


Базову матрицю можна створити за допомогою матричного середовища[3]: як і інші табличні структури, записи визначаються за рядками, зі стовпцями, розділеними за допомогою амперсанда (`&`), а нові рядки розділяються подвійною зворотною косою рискою (`\\`)

```
\begin{matrix}
  a & b & c \\
  d & e & f \\
  g & h & i
 \end{matrix}
```

$$
\begin{matrix}
  a & b & c \\
  d & e & f \\
  g & h & i
 \end{matrix}
$$

Щоб вказати вирівнювання стовпців у таблиці, використовуйте версію із зірочкою[5]:

```
\begin{matrix}
  -1 & 3 \\
  2 & -4
 \end{matrix}
 =
 \begin{matrix*}[r]
  -1 & 3 \\
  2 & -4
 \end{matrix*}
```

$$
\begin{matrix}
  -1 & 3 \\
  2 & -4
 \end{matrix}
 =
 \begin{matrix*}[r]
  -1 & 3 \\
  2 & -4
 \end{matrix*}
$$

Вирівнювання за замовчуванням — c, але це може бути будь-який тип стовпця, дійсний у середовищі масиву.

Однак матриці зазвичай укладені в певні роздільники, і хоча можна використовувати команди `\left` і `\right`, існують різні інші попередньо визначені середовища, які автоматично включають роздільники:

| Environment name                                             | Surrounding delimiter            | Notes                                                        |
| ------------------------------------------------------------ | -------------------------------- | ------------------------------------------------------------ |
| pmatrix[[3\]](https://en.wikibooks.org/wiki/LaTeX/Mathematics#cite_note-amsmath-3) | $\begin{pmatrix}\end{pmatrix}$   | центрує стовпці за замовчуванням                             |
| pmatrix*[[5\]](https://en.wikibooks.org/wiki/LaTeX/Mathematics#cite_note-mathtools-5) | $\begin{pmatrix*}\end{pmatrix*}$ | дозволяє вказати вирівнювання стовпців у необов'язковому параметрі |
| bmatrix[[3\]](https://en.wikibooks.org/wiki/LaTeX/Mathematics#cite_note-amsmath-3) | $\begin{bmatrix}\end{bmatrix}$   | центрує стовпці за замовчуванням                             |
| bmatrix*[[5\]](https://en.wikibooks.org/wiki/LaTeX/Mathematics#cite_note-mathtools-5) | $\begin{bmatrix*}\end{bmatrix*}$ | дозволяє вказати вирівнювання стовпців у необов'язковому параметрі |
| Bmatrix[[3\]](https://en.wikibooks.org/wiki/LaTeX/Mathematics#cite_note-amsmath-3) | $\begin{Bmatrix}\end{Bmatrix}$   | центрує стовпці за замовчуванням                             |
| Bmatrix*[[5\]](https://en.wikibooks.org/wiki/LaTeX/Mathematics#cite_note-mathtools-5) | $\begin{Bmatrix*}\end{Bmatrix*}$ | дозволяє вказати вирівнювання стовпців у необов'язковому параметрі |
| vmatrix[[3\]](https://en.wikibooks.org/wiki/LaTeX/Mathematics#cite_note-amsmath-3) | $\begin{vmatrix}\end{vmatrix}$   | центрує стовпці за замовчуванням                             |
| vmatrix*[[5\]](https://en.wikibooks.org/wiki/LaTeX/Mathematics#cite_note-mathtools-5) | $\begin{vmatrix*}\end{vmatrix*}$ | дозволяє вказати вирівнювання стовпців у необов'язковому параметрі |
| Vmatrix[[3\]](https://en.wikibooks.org/wiki/LaTeX/Mathematics#cite_note-amsmath-3) | $\begin{Vmatrix}\end{Vmatrix}$   | центрує стовпці за замовчуванням                             |
| Vmatrix*[[5\]](https://en.wikibooks.org/wiki/LaTeX/Mathematics#cite_note-mathtools-5) | $\begin{Vmatrix*}\end{Vmatrix*}$ | дозволяє вказати вирівнювання стовпців у необов'язковому параметрі |

Під час запису матриць довільного розміру зазвичай використовують горизонтальні, вертикальні та діагональні триплети точок (відомі як еліпси) для заповнення певних стовпців і рядків. Їх можна вказати за допомогою  `\cdots`, `\vdots` та `\ddots` відповідно:

```
A_{m,n} = 
 \begin{pmatrix}
  a_{1,1} & a_{1,2} & \cdots & a_{1,n} \\
  a_{2,1} & a_{2,2} & \cdots & a_{2,n} \\
  \vdots  & \vdots  & \ddots & \vdots  \\
  a_{m,1} & a_{m,2} & \cdots & a_{m,n} 
 \end{pmatrix}
```

$$
A_{m,n} = 
 \begin{pmatrix}
  a_{1,1} & a_{1,2} & \cdots & a_{1,n} \\
  a_{2,1} & a_{2,2} & \cdots & a_{2,n} \\
  \vdots  & \vdots  & \ddots & \vdots  \\
  a_{m,1} & a_{m,2} & \cdots & a_{m,n} 
 \end{pmatrix}
$$

У деяких випадках вам може знадобитися точніше керувати вирівнюванням в кожному стовпці або вставляти рядки між стовпцями чи рядками. Цього можна досягти за допомогою середовища масивів, яке, по суті, є версією табличного середовища в математичному режимі, що вимагає, щоб стовпці були заздалегідь означені:

```
\begin{array}{c|c}
  1 & 2 \\ 
  \hline
  3 & 4
 \end{array}
```

$$
\begin{array}{c|c}
  1 & 2 \\ 
  \hline
  3 & 4
 \end{array}
$$

Ви можете побачити, що матричний клас середовищ AMS не залишає достатньо місця при використанні разом із дробами, що призводить до виходу, подібного до цього:

![image-20220628214004919](media/image-20220628214004919.png)

Щоб подолати цю проблему, додайте до команди  `\\`  додатковий пробіл з додатковим параметром:

```
M = \begin{bmatrix}
       \frac{5}{6} & \frac{1}{6} & 0           \\[0.3em]
       \frac{5}{6} & 0           & \frac{1}{6} \\[0.3em]
       0           & \frac{5}{6} & \frac{1}{6}
     \end{bmatrix}
```

$$
M = \begin{bmatrix}
       \frac{5}{6} & \frac{1}{6} & 0           \\[0.3em]
       \frac{5}{6} & 0           & \frac{1}{6} \\[0.3em]
       0           & \frac{5}{6} & \frac{1}{6}
     \end{bmatrix}
$$

Якщо вам потрібні «межі» або «індекси» на вашій матриці, звичайний TeX надає макрос `\bordermatrix`

```
M = \bordermatrix{~ & x & y \cr
                  A & 1 & 0 \cr
                  B & 0 & 1 \cr}
```

![image-20220628214201405](media/image-20220628214201405.png)

### Матриці в поточному тексті 

Щоб вставити невелику матрицю без збільшення початку в рядку, що містить її, використовуйте середовище smallmatrix:

```
A matrix in text must be set smaller:
$\bigl(\begin{smallmatrix}
a&b \\ c&d
\end{smallmatrix} \bigr)$
to not increase leading in a portion of text.
```

![image-20220628214309877](media/image-20220628214309877.png)